function C(y,f={},...T){let{class:N,data:H,...$}=f,K=$,L=document.createElement(y);for(let c in K)if(c in L){let P=K[c];if(P===void 0)continue;L[c]=P}if(N)if(typeof N==="string")L.classList.add(N);else L.classList.add(...N);for(let[c,P]of Object.entries(H||{}))L.setAttribute(`data-${c}`,P);for(let[c,P]of Object.entries(f.style||{}))L.style[c]=P;for(let c of T)L.appendChild(typeof c==="string"?document.createTextNode(c):c);return L}function O(y){return(...f)=>{let T,N;if(f.length>0&&typeof f[0]==="string")if(f[0].startsWith("."))T={class:f[0].substring(1).split(".")},N=f.slice(1);else T=void 0,N=f;else if(f.length>0&&!(f[0]instanceof Node))T=f[0],N=f.slice(1);else N=f;return C(y,T,...N)}}var d=O("form"),h=O("input"),v=O("button"),F=O("div"),Q=O("span"),g=O("table"),m=O("tbody"),q=O("thead"),x=O("th"),t=O("tr"),l=O("td"),u=O("select"),r=O("option"),o=O("pre"),n=O("code");function _(){let y=localStorage.getItem("theme");if(y)return y;if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches)return"light";return"dark"}function Y(y){document.documentElement.setAttribute("data-theme",y),localStorage.setItem("theme",y)}function I(){let f=_()==="dark"?"light":"dark";Y(f)}window.toggleTheme=I;function j(y,f,T){return{email:D(y),answer:"valid",explanation:f,classes:T}}function B(y,f,T){return{email:D(y),answer:"invalid",explanation:f,classes:T}}function D(y){return y.replaceAll(" ","<span class='space'>␣</span>").replaceAll(`
`,`<span class='space'>
</span>`)}var p=[j("easy@example.com","No tricks here, just easing you into it."),j("easy+tag@example.com","The + symbol is allowed, and email servers often treat is specially by ignoring anything after it. Very useful!"),B("easy@","Can't have an email address without a domain."),B("@example.com","Nor can you have one without a local part."),j("easy@example","This is technically valid but considered obsolete. RFC 822 allowed domains without dots, but RFC 2822 made this obsolete."),B("what about spaces@example.com","Spaces aren't allowed between words. I'll be using the ␣ character to make spaces obvious."),j(" maybe-like-this @example.com","That's actually allowed for some reason. The spaces should be ignored. My email client doesn't like this."),B("tailing-dot.@example.com","The local part cannot start or end with a dot. Dots in the middle are fine."),j("fed-up-yet@ example.com ","Similar to the local part, the domain part can also have spaces around it. Not allowed in the middle, though."),j("hello(wtf is this?)@samwho.dev","Technically valid. Did you know emails can have comments? Anything (in parens) is a comment. Introduced in RFC 822, obsoleted by RFC 5322."),j('":(){ :|:& };:"@example.com',"Provided you put quotes around it, you can indeed have a <a href='https://en.wikipedia.org/wiki/Fork_bomb'>fork bomb</a> as your email address."),B("accordingtoallknownlawsofaviationthereisnowayabeeshouldbeabletoflyitswingsaretoosmalltogetitsfatlittlebodyoffthegroundthebeeofcoursefliesanywaybecausebeesdontcarewhathumansthinkisimpossibleyellowblackyellowblackyellowblackyellowblackoohblackandyellowletsshakeitupalittlebarrybreakfastisreadycominghangonasecondhellobarryadamcanyoubelievethisishappeningicantillpickyouuplookingsharpusethestairsyourfatherpaidgoodmoneyforthosesorryimexcitedheresthegraduatewereveryproudofyousonaperfectreportcardallbsveryproudmaigotathinggoinghereyougotlintonyourfuzzowthatsmewavetouswellbeinrow118000byebarryitoldyoustopflyinginthehouseheyadamheybarryisthatfuzzgelalittlespecialdaygraduationneverthoughtidmakeitthreedaysgradeschoolthreedayshighschoolthosewerea@example.com","RFC 5322 limits length lengths in email headers to 998 characters, so you can only fit the first ~2.5 minutes of the Bee Movie script before it's too long.",["long"]),j("magic@[::1]","The square bracket syntax allows you to specify IP addresses instead of domains, and ::1 is the shorthand for localhost in IPv6."),j("poop@[\uD83D\uDCA9]","As far as I can tell from reading RFC 6532, this is valid. lol. lmao, even."),j("\uD83D\uDC49@\uD83D\uDC48","I can't believe it, either."),j('"@"@[@]',"You should complain to your provider if they don't allow you to send mail to this one.")],b=[],W=0,G=0,k=!1;function R(){let y=new URLSearchParams(window.location.search),f=y.get("q"),T=y.get("a");return{q:f?parseInt(f)-1:void 0,a:T?parseInt(T)-1:void 0}}function S(){let y=new URL(window.location.href);if(y.searchParams.set("q",(W+1).toString()),k){let f=document.querySelector(".option.selected");if(f){let T=Array.from(f.parentNode.children).indexOf(f);y.searchParams.set("a",(T+1).toString())}}else y.searchParams.delete("a");window.history.replaceState({},"",y.toString())}function E(){b=[...p]}function Z(){E();let{q:y,a:f}=R();if(y!==void 0&&y>=0&&y<b.length)W=y;document.getElementById("startScreen")?.classList.add("hidden"),document.getElementById("quizScreen")?.classList.remove("hidden");let T=document.getElementById("totalQuestions");if(T)T.textContent=b.length.toString();if(U(),f!==void 0&&f>=0&&f<=1)setTimeout(()=>X(f),100)}function U(){let y=b[W];if(!y)return;let f=document.getElementById("currentQuestion"),T=document.getElementById("emailContainer"),N=document.getElementById("emailDisplay");if(f.textContent=(W+1).toString(),N.innerHTML=y.email,T.className="email-container",y.classes)T.classList.add(...y.classes);let H=document.getElementById("options");if(H)H.innerHTML="",["Valid","Invalid"].forEach((L,c)=>{let P=F({className:"option",onclick:()=>X(c)},F({className:"option-key"},(c+1).toString()),F({className:"option-text"},L));H.appendChild(P)});let $=document.getElementById("explanation");if($)$.classList.remove("correct","incorrect"),$.style.visibility="hidden";document.getElementById("nextButton")?.classList.add("hidden"),k=!1,S()}function X(y){if(k)return;k=!0;let f=b[W];if(!f)return;let T=document.querySelectorAll(".option");if(T[y])T[y].classList.add("selected");let $=["valid","invalid"][y]===f.answer,K=f.answer==="valid"?0:1;if($){if(T[y])T[y].classList.add("correct");G++}else{if(T[y])T[y].classList.add("incorrect");let c=T[K];if(c)c.classList.add("correct")}T.forEach((c)=>c.classList.add("disabled"));let L=document.getElementById("explanation");if(L)L.innerHTML=`<p>${f.explanation}</p>`,L.style.visibility="visible",L.classList.add($?"correct":"incorrect");document.getElementById("nextButton")?.classList.remove("hidden"),S()}function A(){if(W++,W<b.length)U();else z()}function z(){document.getElementById("quizScreen")?.classList.add("hidden"),document.getElementById("resultsScreen")?.classList.remove("hidden");let y=document.getElementById("correctCount"),f=document.getElementById("totalCount");if(y)y.textContent=G.toString();if(f)f.textContent=b.length.toString();let T=Math.round(G/b.length*100),N="";if(T===100)N="Good lord, did you sit and read all of the RFCs? Go outside.";else if(T>=80)N="You really shouldn't be scoring this high.";else if(T>=60)N="Yay! You're slightly above average!";else if(T>=40)N="Yay! You're average! Time to start making plans for what you'll do when an LLM takes your job.";else if(T>=20)N="This is embarassing, isn't it? I won't tell anyone if you don't.";else if(T>=0)N="This is impressively bad. You had to overcome serious odds to score this low. Well done.";let H=document.getElementById("resultMessage");if(H)H.textContent=N;let $=`I scored ${G}/${b.length} on https://e-mail.wtf and all I got was this lousy text to share on social media.`,K=document.getElementById("shareMessage");if(K)K.textContent=$;window.history.replaceState({},"",window.location.pathname)}function M(){let y=document.getElementById("shareMessage");if(y){let f=y.textContent;if(f)if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(f).then(()=>{J("Results copied to clipboard!")}).catch(()=>{V(f)});else V(f)}}function w(){let y=document.getElementById("shareMessage");if(y){let f=y.textContent;if(f)if(navigator.share)navigator.share({text:f});else if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(f).then(()=>{J("Results copied to clipboard!")}).catch(()=>{V(f)});else V(f)}}function J(y){let f=document.getElementById("toast");if(f)f.textContent=y,f.classList.add("show"),setTimeout(()=>{f.classList.remove("show")},3000)}function V(y){let f=document.createElement("textarea");f.value=y,f.style.position="fixed",f.style.left="-999999px",f.style.top="-999999px",document.body.appendChild(f),f.focus(),f.select();try{document.execCommand("copy"),J("Results copied to clipboard!")}catch(T){J("Could not copy to clipboard")}document.body.removeChild(f)}window.startQuiz=Z;window.selectOption=X;window.nextQuestion=A;window.copyShareMessage=M;window.shareResults=w;document.addEventListener("DOMContentLoaded",()=>{if(Y(_()),window.matchMedia)window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",(N)=>{if(!localStorage.getItem("theme"))Y(N.matches?"light":"dark")});let y=document.getElementById("startScreen"),{q:f}=R();if(y)y.classList.remove("hidden");if(f!==void 0)Z();Z(),z()});document.addEventListener("keydown",(y)=>{let f=document.getElementById("quizScreen");if(f&&!f.classList.contains("hidden")){if(y.key>="1"&&y.key<="2"&&!k)X(parseInt(y.key)-1);else if((y.key==="Enter"||y.key===" ")&&k)y.preventDefault(),A()}});

//# debugId=4B7C29035EE6116864756E2164756E21
//# sourceMappingURL=./index.js.map
