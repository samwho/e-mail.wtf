function R(f,T={},...y){let{class:c,data:L,...O}=T,j=O,N=document.createElement(f);for(let b in j)if(b in N){let A=j[b];if(A===void 0)continue;N[b]=A}if(c)if(typeof c==="string")N.classList.add(c);else N.classList.add(...c);for(let[b,A]of Object.entries(L||{}))N.setAttribute(`data-${b}`,A);for(let[b,A]of Object.entries(T.style||{}))N.style[b]=A;for(let b of y)N.appendChild(typeof b==="string"?document.createTextNode(b):b);return N}function k(f){return(...T)=>{let y,c;if(T.length>0&&typeof T[0]==="string")if(T[0].startsWith("."))y={class:T[0].substring(1).split(".")},c=T.slice(1);else y=void 0,c=T;else if(T.length>0&&!(T[0]instanceof Node))y=T[0],c=T.slice(1);else c=T;return R(f,y,...c)}}var h=k("form"),d=k("input"),E=k("button"),p=k("div"),w=k("span"),g=k("table"),v=k("tbody"),Q=k("thead"),x=k("th"),m=k("tr"),l=k("td"),q=k("select"),r=k("option"),u=k("pre"),o=k("code");function G(){let f=localStorage.getItem("theme");if(f)return f;if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches)return"light";return"dark"}function F(f){document.documentElement.setAttribute("data-theme",f),localStorage.setItem("theme",f)}function S(){let T=G()==="dark"?"light":"dark";F(T)}window.toggleTheme=S;function H(f,T,y){return{email:J(f),answer:"valid",explanation:T,classes:y}}function W(f,T,y){return{email:J(f),answer:"invalid",explanation:T,classes:y}}function J(f){return f.replaceAll(" ","<span class='space'>␣</span>").replaceAll(`
`,`<span class='space'>
</span>`)}var U=[H("easy@example.com","No tricks here, just easing you into it."),H("easy+tag@example.com","The + symbol is allowed, and email servers often treat is specially by ignoring anything after it. Very useful!"),W("easy@","Can't have an email address without a domain."),W("@example.com","Nor can you have one without a local part."),H("easy@example","This is technically valid but considered obsolete. RFC 822 allowed domains without dots, but RFC 2822 made this obsolete."),W("what about spaces@example.com","Spaces aren't allowed between words. I'll be using the ␣ character to make spaces obvious."),H(" maybe-like-this @example.com","That's actually allowed for some reason. The spaces should be ignored. My email client doesn't like this."),W("tailing-dot.@example.com","The local part cannot start or end with a dot. Dots in the middle are fine."),H("fed-up-yet@ example.com ","Similar to the local part, the domain part can also have spaces around it. Not allowed in the middle, though."),H('":(){ :|:& };:"@example.com',"Provided you put quotes around it, you can indeed have a <a href='https://en.wikipedia.org/wiki/Fork_bomb'>fork bomb</a> as your email address."),W("accordingtoallknownlawsofaviationthereisnowayabeeshouldbeabletoflyitswingsaretoosmalltogetitsfatlittlebodyoffthegroundthebeeofcoursefliesanywaybecausebeesdontcarewhathumansthinkisimpossibleyellowblackyellowblackyellowblackyellowblackoohblackandyellowletsshakeitupalittlebarrybreakfastisreadycominghangonasecondhellobarryadamcanyoubelievethisishappeningicantillpickyouuplookingsharpusethestairsyourfatherpaidgoodmoneyforthosesorryimexcitedheresthegraduatewereveryproudofyousonaperfectreportcardallbsveryproudmaigotathinggoinghereyougotlintonyourfuzzowthatsmewavetouswellbeinrow118000byebarryitoldyoustopflyinginthehouseheyadamheybarryisthatfuzzgelalittlespecialdaygraduationneverthoughtidmakeitthreedaysgradeschoolthreedayshighschoolthosewerea@example.com","RFC 5322 limits length lengths in email headers to 998 characters, so you can only fit the first ~2.5 minutes of the Bee Movie script before it's too long.",["long"]),H("magic@[::1]","The square bracket syntax allows you to specify IP addresses instead of domains, and ::1 is the shorthand for localhost in IPv6."),H("user+tag+another@example.com","Multiple plus signs and tags are perfectly valid."),H('"spaces in quotes"@example.com',"Quoted strings can contain spaces and many special characters.")],$=[],K=0,B=0,P=!1;function V(){let f=new URLSearchParams(window.location.search),T=f.get("q"),y=f.get("a");return{q:T?parseInt(T)-1:void 0,a:y?parseInt(y)-1:void 0}}function X(){let f=new URL(window.location.href);if(f.searchParams.set("q",(K+1).toString()),P){let T=document.querySelector(".option.selected");if(T){let y=Array.from(T.parentNode.children).indexOf(T);f.searchParams.set("a",(y+1).toString())}}else f.searchParams.delete("a");window.history.replaceState({},"",f.toString())}function t(){$=[...U]}function Y(){t();let{q:f,a:T}=V();if(f!==void 0&&f>=0&&f<$.length)K=f;document.getElementById("startScreen")?.classList.add("hidden"),document.getElementById("quizScreen")?.classList.remove("hidden");let y=document.getElementById("totalQuestions");if(y)y.textContent=$.length.toString();if(Z(),T!==void 0&&T>=0&&T<=1)setTimeout(()=>C(T),100)}function Z(){let f=$[K];if(!f)return;let T=document.getElementById("currentQuestion"),y=document.getElementById("emailContainer"),c=document.getElementById("emailDisplay");if(T.textContent=(K+1).toString(),c.innerHTML=f.email,y.className="email-container",f.classes)y.classList.add(...f.classes);let L=document.getElementById("options");if(L)L.innerHTML="",["Valid","Invalid"].forEach((N,b)=>{let A=p({className:"option",onclick:()=>C(b)},p({className:"option-key"},(b+1).toString()),p({className:"option-text"},N));L.appendChild(A)});let O=document.getElementById("explanation");if(O)O.classList.remove("correct","incorrect"),O.style.visibility="hidden";document.getElementById("nextButton")?.classList.add("hidden"),P=!1,X()}function C(f){if(P)return;P=!0;let T=$[K];if(!T)return;let y=document.querySelectorAll(".option");if(y[f])y[f].classList.add("selected");let O=["valid","invalid"][f]===T.answer,j=T.answer==="valid"?0:1;if(O){if(y[f])y[f].classList.add("correct");B++}else{if(y[f])y[f].classList.add("incorrect");let b=y[j];if(b)b.classList.add("correct")}y.forEach((b)=>b.classList.add("disabled"));let N=document.getElementById("explanation");if(N)N.innerHTML=`<p>${T.explanation}</p>`,N.style.visibility="visible",N.classList.add(O?"correct":"incorrect");document.getElementById("nextButton")?.classList.remove("hidden"),X()}function _(){if(K++,K<$.length)Z();else z()}function z(){document.getElementById("quizScreen")?.classList.add("hidden"),document.getElementById("resultsScreen")?.classList.remove("hidden");let f=document.getElementById("correctCount"),T=document.getElementById("totalCount");if(f)f.textContent=B.toString();if(T)T.textContent=$.length.toString();let y=Math.round(B/$.length*100),c="";if(y===100)c="Perfect! You clearly know your email validation specs.";else if(y>=80)c="Excellent! You have a solid understanding of email validation.";else if(y>=60)c="Good job! Email validation is trickier than most people think.";else if(y>=40)c="Not bad, but email validation has some surprising edge cases!";else c="Email validation is full of surprises. The RFC 5322 spec might shock you!";let L=document.getElementById("resultMessage");if(L)L.textContent=c;let O=`I scored ${B}/${$.length} on the email validation quiz at https://e-mail.wtf - how well do you know email validation?`,j=document.getElementById("shareMessage");if(j)j.textContent=O;window.history.replaceState({},"",window.location.pathname)}function I(){let f=document.getElementById("shareMessage");if(f){let T=f.textContent;if(T)navigator.clipboard.writeText(T),D("Results copied to clipboard!")}}function M(){let f=document.getElementById("shareMessage");if(f){let T=f.textContent;if(T)if(navigator.share)navigator.share({text:T});else navigator.clipboard.writeText(T),D("Results copied to clipboard!")}}function D(f){let T=document.getElementById("toast");if(T)T.textContent=f,T.classList.add("show"),setTimeout(()=>{T.classList.remove("show")},3000)}window.startQuiz=Y;window.selectOption=C;window.nextQuestion=_;window.copyShareMessage=I;window.shareResults=M;document.addEventListener("DOMContentLoaded",()=>{if(F(G()),window.matchMedia)window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",(c)=>{if(!localStorage.getItem("theme"))F(c.matches?"light":"dark")});let f=document.getElementById("startScreen"),{q:T}=V();if(f)f.classList.remove("hidden");if(T!==void 0)Y()});document.addEventListener("keydown",(f)=>{let T=document.getElementById("quizScreen");if(T&&!T.classList.contains("hidden")){if(f.key>="1"&&f.key<="2"&&!P)C(parseInt(f.key)-1);else if((f.key==="Enter"||f.key===" ")&&P)f.preventDefault(),_()}});

//# debugId=0EF9B9C78C2E90E164756E2164756E21
//# sourceMappingURL=./index.js.map
